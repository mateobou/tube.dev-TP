<!DOCTYPE html>
<html>
<head>
  <script src="video.ts"></script>
  <title>Protube</title>
  <link rel="stylesheet" type="text/css" href="video.css">
</head>
<body>
  <header>
    <div id="search-container">
      <input type="text" id="search-input" placeholder="Rechercher une vidéo">
      <button id="search-button">Rechercher</button>
    </div>
  </header>
  <main>
    <aside>
      <div class="filter-container" id="filter-container">
        <h2>Filtres</h2>
        <form>
          <div class="filter">
            <label for="sort-by">Trier par :</label>
            <select id="sort-by" name="sort-by">
              <option value="recent">Récent</option>
              <option value="popular">Populaire</option>
              <option value="trending">Tendance</option>
            </select>
          </div>
          <div class="filter">
            <label for="category">Catégorie :</label>
            <select id="category" name="category">
              <option value="all">Toutes</option>
              <option value="music">Musique</option>
              <option value="gaming">Gaming</option>
              <option value="education">Education</option>
            </select>
          </div>
          <div class="filter">
            <label for="duration">Durée :</label>
            <select id="duration" name="duration">
              <option value="all">Toutes</option>
              <option value="short">Courte</option>
              <option value="medium">Moyenne</option>
              <option value="long">Longue</option>
            </select>
          </div>
        </form>
      </div>
    </aside>
    <div id="video-container">
      <video id="video" controls="true" autoplay="true">
        <source src="http://localhost:3000/video/20224b70-8353-4b91-a80a-e676033dd635" type="video/mp4" >
      </video>
    </div>
  </main>
  <script>

  const movies = [{"_id":"63d2d7c37ec51d52c0ab5b58","VideoId":"1","MovieName":"The Shawshank Redemption","DirectorOfMovie":"Frank Darabont","NomberOfView":1000000,"Rating":9.3,"__v":0},{"_id":"63d2dbb68a0043ea676b3e5c","VideoId":"2","MovieName":"The Godfather","DirectorOfMovie":"Francis Ford Coppola","Rating":9.2,"__v":0}, {"_id":"63d2d7c37ec51d52c0ab5b58","VideoId":"1","MovieName":"The Shawshank Redemption","DirectorOfMovie":"Frank Darabont","NomberOfView":1000000,"Rating":9.3,"__v":0},{"_id":"63d2dbb68a0043ea676b3e5c","VideoId":"2","MovieName":"Valenrtine","DirectorOfMovie":"Francis Ford Coppola","Rating":9.2,"__v":0},];
  const searchInput = document.getElementById("search-input");

  searchInput.addEventListener("input", function() {
    const searchValue = this.value.toLowerCase();
    const filteredMovies = movies.filter(function(movie) {
    return movie.MovieName.toLowerCase().includes(searchValue);
    });

    filteredMovies.forEach(function(movie) {
    console.log(movie.MovieName);
    });
  });



/*
     // searchInput : qui représente un champ de saisie pour effectuer une recherche
     // searchButton : qui représente un bouton pour déclencher la recherche
     // videoContainer : qui représente un conteneur pour les résultats de la recherche de vidéos
     // video : qui représente un élément vidéo individuel
    const searchInput = document.getElementById("search-input");
    const searchButton = document.getElementById("search-button");
    const videoContainer = document.getElementById("video-container");
    const video = document.getElementById("video");

    searchButton.addEventListener("click", () => {
    const searchTerm = searchInput.value;
    fetch(`http://localhost:3000/video/search/${searchTerm}`)
      .then(response => response.json())
      .then(data => {
        // mettre à jour la liste des vidéos affichées ici
        console.log(data);
      });
  });

*/
  </script>
</body>
</html>
